@import url('https://fonts.googleapis.com/css2?family=Material+Icons');

/* Color emoji support */
/* https://necomesi.jp/blog/tsmd/posts/154 */
@font-face {
  font-family: ColorEmojiFamily;
  src: local("Segoe UI Emoji"),
       local("Segoe UI Symbol"),
       local("Apple Color Emoji"),
       local("Noto Color Emoji"),
       local("Noto Emoji");
  unicode-range: /*U+23, U+2A, U+30-39,*/ U+A9, U+AE, U+200D, U+203C, U+2049, U+20E3, U+2122, U+2139, U+2194-2199, U+21A9-21AA, U+231A-231B, U+2328, U+23CF, U+23E9-23F3, U+23F8-23FA, U+24C2, U+25AA-25AB, U+25B6, U+25C0, U+25FB-25FE, U+2600-2604, U+260E, U+2611, U+2614-2615, U+2618, U+261D, U+2620, U+2622-2623, U+2626, U+262A, U+262E-262F, U+2638-263A, U+2640, U+2642, U+2648-2653, U+2660, U+2663, U+2665-2666, U+2668, U+267B, U+267F, U+2692-2697, U+2699, U+269B-269C, U+26A0-26A1, U+26AA-26AB, U+26B0-26B1, U+26BD-26BE, U+26C4-26C5, U+26C8, U+26CE-26CF, U+26D1, U+26D3-26D4, U+26E9-26EA, U+26F0-26F5, U+26F7-26FA, U+26FD, U+2702, U+2705, U+2708-270D, U+270F, U+2712, U+2714, U+2716, U+271D, U+2721, U+2728, U+2733-2734, U+2744, U+2747, U+274C, U+274E, U+2753-2755, U+2757, U+2763-2764, U+2795-2797, U+27A1, U+27B0, U+27BF, U+2934-2935, U+2B05-2B07, U+2B1B-2B1C, U+2B50, U+2B55, U+3030, U+303D, U+3297, U+3299, U+FE0F, U+1F004, U+1F0CF, U+1F170-1F171, U+1F17E-1F17F, U+1F18E, U+1F191-1F19A, U+1F1E6-1F1FF, U+1F201-1F202, U+1F21A, U+1F22F, U+1F232-1F23A, U+1F250-1F251, U+1F300-1F321, U+1F324-1F393, U+1F396-1F397, U+1F399-1F39B, U+1F39E-1F3F0, U+1F3F3-1F3F5, U+1F3F7-1F4FD, U+1F4FF-1F53D, U+1F549-1F54E, U+1F550-1F567, U+1F56F-1F570, U+1F573-1F57A, U+1F587, U+1F58A-1F58D, U+1F590, U+1F595-1F596, U+1F5A4-1F5A5, U+1F5A8, U+1F5B1-1F5B2, U+1F5BC, U+1F5C2-1F5C4, U+1F5D1-1F5D3, U+1F5DC-1F5DE, U+1F5E1, U+1F5E3, U+1F5E8, U+1F5EF, U+1F5F3, U+1F5FA-1F64F, U+1F680-1F6C5, U+1F6CB-1F6D2, U+1F6E0-1F6E5, U+1F6E9, U+1F6EB-1F6EC, U+1F6F0, U+1F6F3-1F6F8, U+1F910-1F93A, U+1F93C-1F93E, U+1F940-1F945, U+1F947-1F94C, U+1F950-1F96B, U+1F980-1F997, U+1F9C0, U+1F9D0-1F9E6, U+E0062-E0063, U+E0065, U+E0067, U+E006C, U+E006E, U+E0073-E0074, U+E0077, U+E007F;
}

@font-face {
  font-family: ColorEmojiFamily;
  font-weight: bold;
  src: local("Segoe UI Emoji"),
       local("Segoe UI Symbol"),
       local("Apple Color Emoji"),
       local("Noto Color Emoji")
       local("Noto Emoji");
  unicode-range: /*U+23, U+2A, U+30-39,*/ U+A9, U+AE, U+200D, U+203C, U+2049, U+20E3, U+2122, U+2139, U+2194-2199, U+21A9-21AA, U+231A-231B, U+2328, U+23CF, U+23E9-23F3, U+23F8-23FA, U+24C2, U+25AA-25AB, U+25B6, U+25C0, U+25FB-25FE, U+2600-2604, U+260E, U+2611, U+2614-2615, U+2618, U+261D, U+2620, U+2622-2623, U+2626, U+262A, U+262E-262F, U+2638-263A, U+2640, U+2642, U+2648-2653, U+2660, U+2663, U+2665-2666, U+2668, U+267B, U+267F, U+2692-2697, U+2699, U+269B-269C, U+26A0-26A1, U+26AA-26AB, U+26B0-26B1, U+26BD-26BE, U+26C4-26C5, U+26C8, U+26CE-26CF, U+26D1, U+26D3-26D4, U+26E9-26EA, U+26F0-26F5, U+26F7-26FA, U+26FD, U+2702, U+2705, U+2708-270D, U+270F, U+2712, U+2714, U+2716, U+271D, U+2721, U+2728, U+2733-2734, U+2744, U+2747, U+274C, U+274E, U+2753-2755, U+2757, U+2763-2764, U+2795-2797, U+27A1, U+27B0, U+27BF, U+2934-2935, U+2B05-2B07, U+2B1B-2B1C, U+2B50, U+2B55, U+3030, U+303D, U+3297, U+3299, U+FE0F, U+1F004, U+1F0CF, U+1F170-1F171, U+1F17E-1F17F, U+1F18E, U+1F191-1F19A, U+1F1E6-1F1FF, U+1F201-1F202, U+1F21A, U+1F22F, U+1F232-1F23A, U+1F250-1F251, U+1F300-1F321, U+1F324-1F393, U+1F396-1F397, U+1F399-1F39B, U+1F39E-1F3F0, U+1F3F3-1F3F5, U+1F3F7-1F4FD, U+1F4FF-1F53D, U+1F549-1F54E, U+1F550-1F567, U+1F56F-1F570, U+1F573-1F57A, U+1F587, U+1F58A-1F58D, U+1F590, U+1F595-1F596, U+1F5A4-1F5A5, U+1F5A8, U+1F5B1-1F5B2, U+1F5BC, U+1F5C2-1F5C4, U+1F5D1-1F5D3, U+1F5DC-1F5DE, U+1F5E1, U+1F5E3, U+1F5E8, U+1F5EF, U+1F5F3, U+1F5FA-1F64F, U+1F680-1F6C5, U+1F6CB-1F6D2, U+1F6E0-1F6E5, U+1F6E9, U+1F6EB-1F6EC, U+1F6F0, U+1F6F3-1F6F8, U+1F910-1F93A, U+1F93C-1F93E, U+1F940-1F945, U+1F947-1F94C, U+1F950-1F96B, U+1F980-1F997, U+1F9C0, U+1F9D0-1F9E6, U+E0062-E0063, U+E0065, U+E0067, U+E006C, U+E006E, U+E0073-E0074, U+E0077, U+E007F;
}

/* General */
:root {
  --header-height: 54px;
  --chennel-list-height: 54px;
  --search-input-height: 32px;
  --search-list-height: 54px;
}

:where(:root *) {
  margin: 0;
  padding: 0;
}

body,
input,
textarea {
  font-family: "ColorEmojiFamily", "Segoe UI", "Helvetica Neue", "Helvetica", "Arial", sans-serif;
}

.hidden {
  display: none;
}

.flex-container {
  display: flex;
}

.flex {
  flex: 1 1 auto;
}

.flex-direction-column {
  flex-direction: column;
}

.flex-wrap {
  flex-wrap: wrap;
}

.flex-gap {
  gap: 8px;
}

body {
  position: absolute;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
}

header {
  height: var(--header-height);
  padding: 0 8px;
}

header h1 {
  white-space: nowrap;
  line-height: var(--header-height);
}

#search {
  height: calc(100% - var(--header-height));
}

#search-container {
  padding: 0 8px;
}

.channel-list-item {
  display: flex;
  overflow: hidden;
  position: relative;
  box-sizing: border-box;
  width: var(--chennel-list-height);
  height: var(--chennel-list-height);
  border: 2px solid black;
  border-radius: 50%;
  justify-content: center;
  align-items: center;
  list-style: none;
  cursor: pointer;
  user-select: none;
}

.channel-list-item.active {
  border-color: red;
}

.input-container {
  position: relative;
  padding: 8px 0;
  height: var(--search-input-height);
}

input[type="text"],
input[type="search"],
textarea {
  width: 100%;
  border: none;
  background-color: transparent;
  outline: none;
  font-size: 1.4rem;
  resize: vertical;
}

textarea {
  font-family: Roboto, Arial, sans-serif;
  margin-bottom: -3px;
}

input[type="text"] + .underline,
input[type="search"] + .underline,
textarea + .underline {
  position: relative;
  height: 2px;
}

input[type="text"] + .underline .unfocused,
input[type="search"] + .underline .unfocused,
textarea + .underline .unfocused {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background-color: #b8b8b8;
}

input[type="text"] + .underline .focused,
input[type="search"] + .underline .focused,
textarea + .underline .focused {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background-color: #2793e6;
  transform-origin: center center;
  transform: scale3d(0,1,1);
  transition: transform;
  transition-duration: 0.25s;
}

input[type="text"]:not([readonly]):focus + .underline .focused,
input[type="search"]:not([readonly]):focus + .underline .focused,
textarea:not([readonly]):focus + .underline .focused {
  transform: none;
}

#share-popup {
  position: absolute;
  width: 360px;
  bottom: 54px;
  right: 0;
  padding: 8px;
  border-radius: 4px;
  background-color: #333;
}

#share-popup * {
  color: white;
}

#share-popup:not(.active) {
  display: none;
}

#share-url-input {
  font-size: 100%;
}

#share-popup::after {
  content: "";
  display: block;
  position: absolute;
  bottom: -16px;
  right: 8px;
  border: 8px solid transparent;
  border-top-color: #333;
}

.material-button {
  width: var(--search-input-height);
  background-color: transparent;
  border: none;
  opacity: .8;
  transition-duration: .2s;
  cursor: pointer;
}

.material-button:hover {
  opacity: 1;
}


#search-list {
  overflow: auto;
}

.list-item {
  display: flex;
  position: relative;
  height: var(--search-list-height);
  background-color: white;
}

.list-item:nth-child(odd) {
  background-color: #eee;
}

.list-item:hover {
  background-color: #ddd;
}

.link-list-item-button {
  position: relative;
}

.link-button:focus-within,
.link-list-item-button:focus-within {
  outline: none;
}

.link-button:focus-within::before,
.link-list-item-button:focus-within::before {
  content: '';
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  border: 2px solid grey;
}

.link-button {
  flex: 1;
  overflow: hidden;
  color: black;
  text-decoration: none;
}

.link-button:hover .title {
  text-decoration: underline;
}

.title-container {
  display: flex;
  flex-direction: column;
  flex: 1;
  padding-left: 8px;
  font-size: 1.2rem;
}

.thumbnail {
  float: left;
  height: 100%;
}

.title,
.detail {
  height: calc(var(--search-list-height) / 2);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.title {
  box-sizing: border-box;
  padding-top: 2px;
}

.detail {
  color: grey;
  font-size: 0.9em;
  font-weight: bold;
}

.site-icon {
  position: relative;
}

.site-icon.mildom:not(.youtube)::before {
  content: 'M';
  background-color: rgb(56, 204, 227);
  color: white;
}

.site-icon.bilibili:not(.youtube)::before {
  content: 'b';
  background-color: white;
  color: #00a1d6;
}

.site-icon.bilibili:not(.youtube)::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 2px;
  border: 1px solid #00a1d6;
}

.site-icon:not(.youtube)::before {
  display: inline-block;
  width: 22px;
  height: 22px;
  color: white;
  text-align: center;
  margin-right: 2px;
}

.list-button-container {
  display: none;
}

.list-item:hover .list-button-container {
  display: flex;
}

.list-button {
  display: block;
  width: var(--search-list-height);
  height: var(--search-list-height);
  background-color: transparent;
  border: none;
  font-size: calc(var(--search-list-height) - 20px);
  padding: 10px;
  box-sizing: border-box;
  cursor: pointer;
  user-select: none;
  opacity: .6;
}

.list-button:hover {
  opacity: 1;
}

.list-button[command="play"]:hover {
  color: #40bf40;
}

.list-item:not([site="youtube"]) .list-button[command="play"] {
  display: none;
}

#link-menu {
  position: absolute;
  background-color: white;
  border: 1px solid grey;
  font-size: 1.4rem;
}

#link-list {
  list-style: none;
}

.link-list-item:nth-child(even) {
  background-color: #eee;
}

.link-list-item:hover {
  background-color: #ddd;
}

.link-list-item-button {
  display: block;
  padding: 4px 8px;
  color: black;
  text-decoration: none;
}

.list-control {
  height: 0;
}

.bottom-message {
  padding: 0 8px;
  font-size: 1.2rem;
  text-align: center;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex-shrink: 0;
  flex-grow: 0;
}

.bottom-message.error {
  background-color: darkred;
  color: white;
}

#modal {
  display: none;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: rgba(0, 0, 0, .75);
}

#modal.active {
  display: flex;
  justify-content: center;
  align-items: center;
}
